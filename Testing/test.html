<!DOCTYPE html>

<html lang="en">
	<head>
		<title>MooTools ART testing</title>
		<script type="text/javascript" src="mootools-core.js"></script>
		<script type="text/javascript" src="Color.js"></script>
		<script type="text/javascript" src="../Source/ART.js"></script>
		<script type="text/javascript" src="../Source/ART.Path.js"></script>
		<script type="text/javascript" src="../Source/ART.SVG.js"></script>
		<script type="text/javascript" src="../Source/ART.VML.js"></script>
		<script type="text/javascript" src="../Source/ART.Base.js"></script>
		<script type="text/javascript" src="../Source/ART.Font.js"></script>
		<script type="text/javascript" src="../Source/ART.Shapes.js"></script>
		<script type="text/javascript" src="ART.Shapes.Extras.js"></script>
		<script type="text/javascript" src="uiGraph.js"></script>
		
		<script type="text/javascript">
			window.addEvent('domready', function() {
				/*var datasetAlpha = [], datasetBeta = [], datasetGamma = [];
				for (var i = 0; i < 10; i++) {
					datasetAlpha.push((Math.random() - .5) * 100);
					datasetBeta.push((Math.random() - .5) * 100);
					datasetGamma.push({
						x: (Math.random() - .5) * 100,
						onClick: function() {
							console.log('You clicked me!');
							console.log(this);
						},
						label: 'Click me!'
					});
				}*/
				var datasetAlpha = [
					{
						y: 10,
						onClick: function() {
							alert('pony');
						},
						label: 'Pony!'
					}, {
						y: 20,
						label: 'Monkey'
					}, 30, 40, 50, 60, 70, 80, 90, 100
				];
				var datasetBeta = [20, 30, 60, 70, -20, 20, 40, 80, -20, 20]; // Green
				var datasetGamma = [100, 95, 85, 65, 25, 50, 45, 35, 15, 0]; // Blue
				
				var el = new Element('div', {
					'styles': {
						'borderRadius': '8px',
						'boxShadow': '2px 2px 8px #000',
						'margin': '100px auto',
						'width': 600,
						'height': 300
					}
				}).inject($(document.body));
				
				var renderGraph = function(className) {
					el.empty();
					window.graph = new className({
						xAxis: {
							labels: [
								'alpha',
								'beta',
								'gamma',
								'delta',
								'epsilon',
								'zeta',
								'eta',
								'theta',
								'iota',
								'kappa'
							]
						},
						yAxis: {
							interval: 10
						},
						legend: {
							//placement: 'top',
							//size: 30
							placement: 'right',
							size: 80
						}
					}, el);
					switch (className) {
						case seqta.ui.Graph.Pie:
							graph.draw(datasetGamma);
							break;
						case seqta.ui.Graph.VertBar:
							graph.draw(datasetBeta, null, {
								legend: 'Beta',
								shape: ART.Dot
							});
							break;
						case seqta.ui.Graph.Line: /* fall through */
						default:
							graph.draw(datasetAlpha, null, {
								legend: 'Alpha',
								shape: ART.Dot
							});
							graph.draw(datasetBeta, null, {
								legend: 'Beta',
								shape: ART.Square
							});
							graph.draw(datasetGamma, null, {
								legend: 'Gamma',
								shape: ART.Triangle
							});
							break;
					}
				};
				
				var selector = new Element('select', {
					events: {
						'change': function(evt) {
							switch ($(evt.target).get('value').toLowerCase()) {
								case 'pie':
									renderGraph(seqta.ui.Graph.Pie);
									break;
								case 'vertical bar':
									renderGraph(seqta.ui.Graph.VertBar);
									break;
								case 'line': /* fall through */
								default:
									renderGraph(seqta.ui.Graph.Line);
									break;
							}
						}
					}
				}).inject($(document.body));
				selector.grab(new Element('option', {
					value: 'line',
					html: 'Line'
				}));
				selector.grab(new Element('option', {
					value: 'vertical bar',
					html: 'Vertical bar'
				}));
				selector.grab(new Element('option', {
					value: 'pie',
					html: 'Pie'
				}))
				
				renderGraph(seqta.ui.Graph.Line);
			});
		</script>
	</head>
	<body style="background: #222">
		
	</body>
</html>