<!DOCTYPE html>

<html lang="en">
	<head>
		<title>MooTools ART testing</title>
		<script type="text/javascript" src="mootools-core.js"></script>
		<script type="text/javascript" src="Color.js"></script>
		<script type="text/javascript" src="../Source/ART.js"></script>
		<script type="text/javascript" src="../Source/ART.Path.js"></script>
		<script type="text/javascript" src="../Source/ART.SVG.js"></script>
		<script type="text/javascript" src="../Source/ART.VML.js"></script>
		<script type="text/javascript" src="../Source/ART.Base.js"></script>
		<script type="text/javascript" src="../Source/ART.Font.js"></script>
		<script type="text/javascript" src="../Source/ART.Shapes.js"></script>
		<script type="text/javascript" src="ART.Shapes.Extras.js"></script>
		<script type="text/javascript" src="uiGraph.js"></script>
		
		<script type="text/javascript">
			window.addEvent('domready', function() {
				/*var datasetAlpha = [], datasetBeta = [], datasetGamma = [];
				for (var i = 0; i < 10; i++) {
					datasetAlpha.push((Math.random() - .5) * 100);
					datasetBeta.push((Math.random() - .5) * 100);
					datasetGamma.push({
						x: (Math.random() - .5) * 100,
						onClick: function() {
							console.log('You clicked me!');
							console.log(this);
						},
						label: 'Click me!'
					});
				}*/
				var datasetAlpha = [
					{
						y: 1,
						onClick: function() {
							alert('pony');
						},
						label: 'Pony!'
					}, {
						y: 2,
						label: 'Monkey'
					}, 3, 4, 5, 6, 7, 8, 9, 10
				];
				var datasetBeta = [2, 3, 6, 7, 2, 2, 4, 8, 5, 10]; // Green
				var datasetGamma = [10, 9, 8, 6, 2, 5, 4, 3, 1, 0]; // Blue
				
				var labels = [
					'2010-01',
					'2010-02',
					'2010-03',
					'2010-04',
					'2010-05',
					'2010-06',
					'2010-07',
					'2010-08',
					'2010-09',
					'2010-10'
				];
				
				var el = new Element('div', {
					'styles': {
						'borderRadius': '8px',
						'boxShadow': '2px 2px 8px #000',
						'margin': '100px auto',
						'width': 600,
						'height': 300
					}
				}).inject($(document.body));
				
				var renderGraph = function(className) {
					el.empty();
					window.graph = new className({
						xAxis: {
							labels: labels,
							labelRotation: -15
						},
						yAxis: {
							interval: 1,
						},
						data: {
							contain: false
						},
						legend: {
							//placement: 'top',
							//size: 30
							placement: 'right',
							size: 80
						}
					}, el);
					switch (className) {
						case seqta.ui.Graph.Pie:
							graph.draw(datasetGamma);
							break;
						case seqta.ui.Graph.VertBar:
							graph.draw(datasetBeta, null, {
								legend: 'Beta',
								shape: ART.Dot
							});
							break;
						case seqta.ui.Graph.Line: /* fall through */
						default:
							graph.draw(datasetAlpha, null, {
								legend: 'Uniform',
								shape: ART.Dot
							});
							graph.draw(datasetBeta, null, {
								legend: 'Detention',
								shape: ART.Square
							});
							graph.draw(datasetGamma, null, {
								legend: 'Suspension',
								shape: ART.Triangle
							});
							break;
					}
				};
				
				var selector = new Element('select', {
					events: {
						'change': function(evt) {
							switch ($(evt.target).get('value').toLowerCase()) {
								case 'pie':
									renderGraph(seqta.ui.Graph.Pie);
									break;
								case 'vertical bar':
									renderGraph(seqta.ui.Graph.VertBar);
									break;
								case 'line': /* fall through */
								default:
									renderGraph(seqta.ui.Graph.Line);
									break;
							}
						}
					}
				}).inject($(document.body));
				selector.grab(new Element('option', {
					value: 'line',
					html: 'Line'
				}));
				selector.grab(new Element('option', {
					value: 'vertical bar',
					html: 'Vertical bar'
				}));
				selector.grab(new Element('option', {
					value: 'pie',
					html: 'Pie'
				}))
				
				renderGraph(seqta.ui.Graph.Line);
			});
		</script>
	</head>
	<body style="background: #222">
		
	</body>
</html>